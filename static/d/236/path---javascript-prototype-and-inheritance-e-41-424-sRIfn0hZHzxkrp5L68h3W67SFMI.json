{"data":{"site":{"siteMetadata":{"title":"Blog","author":"susiezhao"}},"markdownRemark":{"id":"202e9a20-3751-579b-bf2a-beb2a62f54fe","excerpt":"原型 构造函数、原型对象及实例的关系 在 JavaScript 中所有的函数都有一个不可枚举的  prototype  的属性，该属性是一个指针，指向一个被称为原型的对象（即原型）。原型对象有一个默认不可枚举的  constructor  属性，其也是一个指针，默认指向与原型对象关联的函数。例如：   function…","html":"<h2>原型</h2>\n<h3>构造函数、原型对象及实例的关系</h3>\n<p>在 JavaScript 中所有的函数都有一个不可枚举的 <code>prototype</code> 的属性，该属性是一个指针，指向一个被称为原型的对象（即原型）。原型对象有一个默认不可枚举的 <code>constructor</code> 属性，其也是一个指针，默认指向与原型对象关联的函数。例如：  <code>function Foo() {}</code> 的原型对象是 <code>Foo.prototype</code>，则有 <code>Foo.proptotype.constructor === Foo</code> 成立。  </p>\n<p>在 JavaScript 中通过关键字 <code>new</code> 调用的函数通常被称为构造函数。在默认的约定中，构造函数的首字母始终为大写字母，非构造函数的首字母则以一个小写字母开头。构造函数通常是用来创建特定类型的对象，且通过构造函数生成的对象称为该构造函数的实例。<br>\n构造函数又分为原生构造函数，如 <code>Array</code>、 <code>String</code>、 <code>RegExp</code> 等，还可以自定义构造函数。<br>\n构造函数必须使用 <code>new</code> 操作符调用，且调用的过程中经历了下面4个阶段：</p>\n<ul>\n<li>创建了一个新对象；</li>\n<li>将构造函数的作用域赋值给创建的新对象（<code>this</code> 指向上面步骤中的新对象）</li>\n<li>执行构造函数的代码，即为新对象添加属性等</li>\n<li>\n<p>返回这个新对象</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">,</span> sex</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> ange<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>sex <span class=\"token operator\">=</span> sex<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> person1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'susie'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'female'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<p>在 JavaScript 中一切皆为对象，且所有对象都存在一个内置属性 <code>[[prototype]]</code>, 通常可以通过 <code>Object.getPrototypeOf(obj)</code> 获取。 在 Firefox, Safari 和 Chrome 浏览器中该内置属性可以通过 <code>__proto__</code> 获取。该属性是一个指针，指向构造该对象的构造函数的原型对象。即 <code>[[prototype]]</code> 这个链接是存在于实例对象和对应的原型对象之间，而不是存在实例对象和对应的构造函数之间。实例对象，构造函数和原型对象之间的关系是：\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/33487f9f527a6cdf9ecfa3d7eee80dfe/ef3f5/prototype1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 43.666169895678095%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA60lEQVQoz41Si46EIAz0/3/T5UBBcQV1ffaY3tWgMZcjmRRbO52OFvu+U45t2y7xCX/VinviOI4L1nVlAoHk/0m4UdM4stbSsizU9z29u4689+Rbn2oN52TIk9oiT86fDznnuCnGyMRVVZFSisqypNdLMWmXhohSOSchkuM4kjGGtNEchUQlAmsdE+AdWRnD8DxNE4U+nKpPwnmeea22bTnWdU0hhItX+UENiHFIw97UpR5YdPEQ0zFF/BHl4Xd9qABABMX38+jh/WujUX/ppPjHS9y1NjQMwykix+NvkwNrQB0IANyRyxXd8Q3UzL65Qxg1zQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"构造函数，原型以及实例之间的关系\"\n        title=\"\"\n        src=\"/static/33487f9f527a6cdf9ecfa3d7eee80dfe/b9e4f/prototype1.png\"\n        srcset=\"/static/33487f9f527a6cdf9ecfa3d7eee80dfe/cf440/prototype1.png 148w,\n/static/33487f9f527a6cdf9ecfa3d7eee80dfe/d2d38/prototype1.png 295w,\n/static/33487f9f527a6cdf9ecfa3d7eee80dfe/b9e4f/prototype1.png 590w,\n/static/33487f9f527a6cdf9ecfa3d7eee80dfe/ef3f5/prototype1.png 671w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n      </p>","frontmatter":{"title":"原型与继承","date":"May 01, 2019","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/javascript/prototype_and_inheritance/","previous":{"fields":{"slug":"/hello-world/"},"frontmatter":{"title":"Hello World"}},"next":{"fields":{"slug":"/hello-world/index1/"},"frontmatter":{"title":"Hello World1"}}}}