{"data":{"site":{"siteMetadata":{"title":"Blog","author":"susiezhao"}},"markdownRemark":{"id":"202e9a20-3751-579b-bf2a-beb2a62f54fe","excerpt":"原型 构造函数，原型对象以及实例之间的关系 在 JavaScript…","html":"<h3>原型</h3>\n<h4>构造函数，原型对象以及实例之间的关系</h4>\n<p>在 JavaScript 中所有的函数都有一个不可枚举的 <code class=\"language-text\">prototype</code> 的属性，该属性是一个指针，指向一个被称为原型的对象（即原型）。原型对象有一个默认不可枚举的属性 <code class=\"language-text\">constructor</code> 的属性，且该属性也是一个指针，默认指向与原型对象关联的函数。例如：  <code class=\"language-text\">function Foo() {}</code> 的原型对象时 <code class=\"language-text\">Foo.prototype</code>，且 <code class=\"language-text\">Foo.proptotype.constructor === Foo ;  // true</code>。  </p>\n<p>在 JavaScript 中通过关键字 <code class=\"language-text\">new</code> 调用的函数通常被称为构造函数。在默认的约定中构造函数的首字母始终为大写字母，非构造函数的首字母则以一个小写字母开头。构造函数通常是用来创建特定类型的对象，且通常我们把生成的对象称为该构造函数的实例。<br>\n构造函数又分为原生构造函数如 <code class=\"language-text\">Array</code> <code class=\"language-text\">String</code> <code class=\"language-text\">RegExp</code> 等，还可以自定义构造函数。构造函数必须使用 <code class=\"language-text\">new</code> 操作符调用，且调用的过程中经历了下面4个阶段：</p>\n<ul>\n<li>创建了一个新对象；</li>\n<li>将构造函数的作用域赋值给创建的新对象（<code class=\"language-text\">this</code> 指向上面步骤中的新对象）</li>\n<li>执行构造函数的代码，即为新对象添加属性等</li>\n<li>\n<p>返回这个新对象</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">,</span> sex</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> ange<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>sex <span class=\"token operator\">=</span> sex<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> person1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">'susie'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'female'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n<p>在 JavaScript 中一切皆为对象，且所有对象都存在一个内置属性 <code class=\"language-text\">[[prototype]]</code>, 通常可以通过 <code class=\"language-text\">Object.getPrototypeOf(obj)</code> 获取。 在 Firefox, Safari 和 Chrome 浏览器中该内置属性可以通过 <code class=\"language-text\">__proto__</code> 获取。该属性是一个指针，指向该对象所对应的构造函数的原型对象。即 <code class=\"language-text\">[[prototype]]</code> 这个链接是存在于 实例对象和对应的原型对象之间，而不是存在实例对象和对应的构造函数之间。</p>\n<p>实例对象，构造函数和原型对象之间的关系是：\n<img src=\"https://note.youdao.com/yws/public/resource/0540b3428d84200b0204066862ce50bd/xmlnote/BC5D4E3B9E1D483882138FC00E3A8D33/6920\" alt=\"image\"></p>","frontmatter":{"title":"原型与继承","date":"May 01, 2019","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/javascript/prototype_and_inheritance/","previous":{"fields":{"slug":"/hello-world/"},"frontmatter":{"title":"Hello World"}},"next":{"fields":{"slug":"/hello-world/index1/"},"frontmatter":{"title":"Hello World1"}}}}